<% if (theme.banner && theme.banner.img) { %>
<div class="banner-container">
    <img 
        src="<%= theme.banner.img %>" 
        alt="<%= theme.banner.alt || 'Banner' %>" 
        class="banner-image"
        loading="lazy"
    />
    <% if (theme.banner.title) { %>
        <div class="banner-overlay">
            <mdui-typography variant="h3" class="banner-title">
                <%= theme.banner.title %>
            </mdui-typography>
            <% if (theme.banner.subtitle) { %>
                <mdui-typography variant="h6" class="banner-subtitle">
                    <%= theme.banner.subtitle %>
                </mdui-typography>
            <% } %>
        </div>
    <% } %>
</div>
<% } %>

<style>
.banner-container {
    position: relative;
    width: 100%;
    max-width: 900px; /* 与文本卡片一致 */
    margin: 32px auto; /* 与文本卡片一致 */
    border-radius: 16px;
    overflow: hidden;
    box-shadow: var(--mdui-elevation-1); /* 与文本卡片一致 */
    /* 自定义裁切形状 - 与文本卡片完全一致 */
    clip-path: polygon(
        0% 0%, 
        100% 0%, 
        100% 100%, 
        0% 100%
    );
    height: 200px; /* 固定高度改为200px */
}

.banner-image {
    width: 100%;
    height: 100%; /* 改为100%填满容器 */
    display: block;
    object-fit: cover; /* 确保图片填满且不变形 */
    object-position: center; /* 居中显示图片重点区域 */
    /* 移除圆角，因为容器已经裁切 */
}

.banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    /* background: rgba(0, 0, 0, 0.4); */
    color: white;
    text-align: center;
    padding: 2rem;
    /* 确保遮罩层也使用相同的裁切 */
    clip-path: polygon(
        0% 0%, 
        100% 0%, 
        100% 100%, 
        0% 100%
    );
}

.banner-title {
    margin: 0 0 1rem 0;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    color: white !important;
    font-size: 5vh;
}

.banner-subtitle {
    margin: 0;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    color: rgba(255, 255, 255, 0.9) !important;
    font-size: 3vh;
}

/* 响应式设计 */
@media (max-width: 960px) {
    .banner-container {
        max-width: calc(100% - 32px);
        margin: 16px auto; /* 与文本卡片响应式一致 */
        border-radius: 8px;
        height: 180px; /* 移动端调整高度，保持200px的比例 */
        clip-path: polygon(
            0% 0%, 
            100% 0%, 
            100% 100%, 
            0% 100%
        );
    }
    
    .banner-image {
        border-radius: 0; /* 移除圆角，由clip-path控制 */
    }
    
    .banner-overlay {
        padding: 1rem;
        clip-path: polygon(
            0% 0%, 
            100% 0%, 
            100% 100%, 
            0% 100%
        );
    }
    
    .banner-title {
        font-size: 1.5rem !important;
    }
    
    .banner-subtitle {
        font-size: 0.9rem !important;
    }
}

@media (max-width: 480px) {
    .banner-container {
        border-radius: 8px;
        height: 160px; /* 更小屏幕进一步调整高度 */
        clip-path: polygon(
            0% 0%, 
            100% 0%, 
            100% 100%, 
            0% 100%
        );
    }
    
    .banner-image {
        border-radius: 0;
    }
    
    .banner-title {
        font-size: 1.2rem !important;
    }
    
    .banner-overlay {
        clip-path: polygon(
            0% 0%, 
            100% 0%, 
            100% 100%, 
            0% 100%
        );
    }
}

/* 确保与文本卡片完全一致的视觉效果 */
.banner-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 16px;
    pointer-events: none;
    z-index: 2;
}

@media (max-width: 960px) {
    .banner-container::before {
        border-radius: 8px;
    }
}
</style>