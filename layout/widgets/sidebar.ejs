<style>
.sidebar-user-card {
    text-align: center;
    padding: 2rem 1rem;
    margin: 0.125rem 0.5rem;
    border-radius: 0.5rem;
    display: block; 
}

.sidebar-user-avatar {
    width: 80px;
    height: 80px;
    margin: 0 auto 1rem auto;
    display: block;
}

.nav-list {
    padding: 0.5rem;
}

.nav-item {
    border-radius: 0.75rem;
    margin: 0.1rem 0.5rem;
    padding: 0.5rem 1rem;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    border-radius: 10px;
}

.nav-item:hover {
    background: var(--mdui-color-surface-container-highest);
}

/* 为侧边栏添加过渡效果 */
.sidebar-content {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* 使用更优雅的方式替代<br>标签 */
.section-spacing {
    margin: 0.125rem 0.5rem;
    height: 1rem;
}
</style>

<mdui-navigation-drawer class="sidebar-content" close-on-overlay-click>
    <!-- 用户信息卡片 -->
     <br>
     <br>
     <br>
    <% if (theme.sidebar && (theme.sidebar.avatar || theme.sidebar.name || theme.sidebar.slogen)) { %>
    <mdui-card class="sidebar-user-card" variant="filled">
        <% if (theme.sidebar.avatar) { %>
            <mdui-avatar class="sidebar-user-avatar" src="<%= theme.sidebar.avatar %>"></mdui-avatar>
        <% } %>
        <% if (theme.sidebar.name) { %>
            <div style="font-weight: bold; font-size: 1.5em;"><%= theme.sidebar.name %></div>
        <% } %>
        <% if (theme.sidebar.slogen) { %>
            <div style="font-size: 14px; color: #666; margin-top: 10px;"><%= theme.sidebar.slogen %></div>
        <% } %>
    </mdui-card>
    <% } %>
    
    <!-- 添加间距 -->
    <div class="section-spacing"></div>
    
    <!-- 导航菜单 -->
    <mdui-list class="nav-list">
        <% if (theme.nav && theme.nav.length > 0) { %>
            <% theme.nav.forEach(function(item) { %>
                <mdui-list-item 
                    class="nav-item"
                    href="<%= url_for(item.url) %>"
                >
                    <mdui-icon slot="icon" name="<%= item.icon %>"></mdui-icon>
                    <%= item.name %>
                </mdui-list-item>
            <% }) %>
        <% } %>
    </mdui-list>

    <!-- 添加间距 -->
    <div class="section-spacing"></div>

    <!-- 分类列表 -->
    <mdui-list>
        <% site.categories.forEach(function(category) { %>
            <mdui-list-item icon="folder" onclick="location.href='<%= url_for(category.path) %>'">
                <%= category.name %>
            </mdui-list-item>
        <% }); %>
    </mdui-list>
</mdui-navigation-drawer>

<script src="/js/widgets/sidebar.js"></script>